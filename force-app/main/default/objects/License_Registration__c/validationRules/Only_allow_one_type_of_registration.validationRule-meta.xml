<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Only_allow_one_type_of_registration</fullName>
    <active>true</active>
    <description>Only allow a single registration type</description>
    <errorConditionFormula>/* Only one type may be selected */
AND (
 Record_Type_Name__c  = &quot;License&quot; ,
NOT ( ISPICKVAL ( License_Registration_Type__c , &#39;&#39; )),
OR( NOT ( ISPICKVAL ( Secured_License_Registration_Type__c,   &#39;&#39; )),
NOT ( ISPICKVAL ( License_Type__c,   &#39;&#39; ))
))
||
AND (
 Record_Type_Name__c  = &quot;License&quot; ,
NOT ( ISPICKVAL ( Secured_License_Registration_Type__c, &#39;&#39; )),
OR( NOT ( ISPICKVAL ( License_Registration_Type__c ,   &#39;&#39; )),
NOT ( ISPICKVAL ( License_Type__c,   &#39;&#39; ))
))
||
AND (
 Record_Type_Name__c  = &quot;License&quot; ,
NOT ( ISPICKVAL ( License_Type__c, &#39;&#39; )),
OR( NOT ( ISPICKVAL ( License_Registration_Type__c ,   &#39;&#39; )),
NOT ( ISPICKVAL (Secured_License_Registration_Type__c,   &#39;&#39; ))
))

||

AND (
 Record_Type_Name__c  = &quot;License&quot; ,
ISPICKVAL ( License_Registration_Type__c , &#39;&#39; ),
ISPICKVAL ( Secured_License_Registration_Type__c,   &#39;&#39; ),
ISPICKVAL ( License_Type__c,   &#39;&#39; )
)</errorConditionFormula>
    <errorMessage>You may only select either a standard or secured license or registration type per record.</errorMessage>
</ValidationRule>
